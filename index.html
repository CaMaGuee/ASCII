<!DOCTYPE html>
<html>

<head>
    <title>COLD PINE</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="icon" type="image/png" href="https://github.com/CaMaGuee/home/blob/main/imgs/logo_square.PNG?raw=true">
    <link rel="icon" type="image/x-icon"
        href="https://raw.githubusercontent.com/CaMaGuee/home/refs/heads/main/imgs/logo_square.ico">

    <style>
        body,
        h1 {
            font-family: "Raleway", sans-serif
        }

        body,
        html {
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: black;
        }

        .bgimg {
            background-image: url('https://github.com/CaMaGuee/home/blob/main/imgs/%20bgimg.png?raw=true');
            min-height: 100%;
            background-position: center;
            background-size: cover;
        }

        .DispContainer {
            position: relative
        }

        .AnimateOpacity {
            animation: opac 3.0s
        }

        @keyframes opac {
            from {
                opacity: 0
            }

            to {
                opacity: 1
            }
        }

        .WhiteText {
            color: #fff !important
        }

        .TopLogo {
            position: absolute;
            font-size: 24px !important;
            left: 0;
            top: 0
        }

        .PaddingLarge {
            padding: 12px 24px !important;
        }

        .JumboSizeFont {
            font-size: 64px !important
        }

        .AnimateToptoDown {
            position: relative;
            animation: animatetop 1.5s
        }

        .LogginScreenBody {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%)
        }

        .BottomLeftBanner {
            position: absolute;
            left: 0;
            bottom: 0;
        }

        @keyframes animatetop {
            from {
                top: -300px;
                opacity: 0
            }

            to {
                top: 0;
                opacity: 1
            }
        }
    </style>
    <script>
        var user
    </script>
</head>

<body>

    <div class="bgimg DispContainer AnimateOpacity WhiteText">
        <div class="TopLogo PaddingLarge">
            CS.Kim
        </div>
        <div class="LogginScreenBody FirstScreen">
            <h1 class="JumboSizeFont AnimateToptoDown" style="text-align:center!important;">HELLO
                <script>
                    if (user == undefined) { document.write("USER"); }
                    else { document.write(user); }
                </script>
            </h1>
            <hr style="margin:auto;width:40%; border-color: #9e9e9e !important;">
            <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.4/kakao.min.js"
                integrity="sha384-DKYJZ8NLiK8MN4/C5P2dtSmLQ4KwPaoqAfyA/DfmEc1VDxu4yyC7wy6K1Hs90nka"
                crossorigin="anonymous"></script>
            <script>
                Kakao.init('c4d8750c422487dd94ad3e6108f5cb2f');
                if(Kakao.isInitialized()){console.log("Oauth Initializing is OK");}
            </script>
            <p style="font-size:18px!important; text-align:center!important;">
                <a id="kakao-login-btn" href="javascript:loginWithKakao()" style="color: white;">
                    Login
                </a>
            </p>
            <p id="token-result"></p>
            <script>
                function loginWithKakao() {
                    Kakao.Auth.authorize({
                        redirectUri: 'https://camaguee.github.io/home',
                    });
                }

                displayToken();
                function displayToken() {
                    var token = getCookie('authorize-access-token');
                    console.log(token);
                    if (token) {
                        Kakao.Auth.setAccessToken(token);
                        Kakao.Auth.getStatusInfo()
                            .then(function (res) {
                                if (res.status === 'connected') {
                                    var accessToken = Kakao.Auth.getAccessToken();
                                    document.getElementById('token-result').innerText = 'login success, token: ' + accessToken;
                                    setCookie('authorize-access-token', accessToken, 1); // 1일 동안 유효한 쿠키 설정
                                }
                            })
                            .catch(function (err) {
                                Kakao.Auth.setAccessToken(null);
                            });
                    }
                }

                function getCookie(name) {
                    var parts = document.cookie.split(name + '=');
                    if (parts.length === 2) { return parts[1].split(';')[0]; }
                }

                function setCookie(name, value, days) {
                    var expires = "";
                    if (days) {
                        var date = new Date();
                        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                        expires = "; expires=" + date.toUTCString();
                    }
                    document.cookie = name + "=" + (value || "") + expires + "; path=/";
                }
            </script>
        </div>
        <div calss="SecondScreen"></div>
        <div class="BottomLeftBanner PaddingLarge">
            Powered by <a href="" target="_blank" style="color: wheat;">cs.kim</a>
        </div>
    </div>
</body>

</html>
